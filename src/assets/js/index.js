/**
 * @author TECNO BROS
 * @license CC-BY-NC 4.0 - https://creativecommons.org/licenses/by-nc/4.0/
 */
'use strict';const a1_0x256359=a1_0x2081;(function(_0x40f4bf,_0x588133){const _0x203401=a1_0x2081,_0x1c7a2b=_0x40f4bf();while(!![]){try{const _0x1ee1df=parseInt(_0x203401(0x1b3))/0x1*(-parseInt(_0x203401(0x1a2))/0x2)+parseInt(_0x203401(0x1c3))/0x3+-parseInt(_0x203401(0x197))/0x4+parseInt(_0x203401(0x19d))/0x5*(parseInt(_0x203401(0x192))/0x6)+-parseInt(_0x203401(0x189))/0x7*(parseInt(_0x203401(0x1e0))/0x8)+-parseInt(_0x203401(0x18d))/0x9+-parseInt(_0x203401(0x1b2))/0xa*(-parseInt(_0x203401(0x1ce))/0xb);if(_0x1ee1df===_0x588133)break;else _0x1c7a2b['push'](_0x1c7a2b['shift']());}catch(_0x2ead9a){_0x1c7a2b['push'](_0x1c7a2b['shift']());}}}(a1_0x5da1,0x4c551));function a1_0x2081(_0x157523,_0x4de92b){const _0x5da19d=a1_0x5da1();return a1_0x2081=function(_0x208142,_0x362b4c){_0x208142=_0x208142-0x189;let _0xba0d14=_0x5da19d[_0x208142];return _0xba0d14;},a1_0x2081(_0x157523,_0x4de92b);}const {ipcRenderer}=require('electron');import{config}from'./utils.js';let dev=process[a1_0x256359(0x1bd)][a1_0x256359(0x1e2)]===a1_0x256359(0x191);const fs=require('fs'),fetch=require(a1_0x256359(0x1ac)),axios=require(a1_0x256359(0x1d7));class Splash{constructor(){const _0x11c447=a1_0x256359;this[_0x11c447(0x195)]=document[_0x11c447(0x1ca)]('.splash'),this['splashMessage']=document[_0x11c447(0x1ca)](_0x11c447(0x1e3)),this[_0x11c447(0x1b4)]=document['querySelector'](_0x11c447(0x1bb)),this['message']=document[_0x11c447(0x1ca)](_0x11c447(0x1e4)),this[_0x11c447(0x1ea)]=document[_0x11c447(0x1ca)](_0x11c447(0x1ea)),document[_0x11c447(0x19c)](_0x11c447(0x190),()=>this[_0x11c447(0x1d9)]());}async['startAnimation'](){const _0x40abcf=a1_0x256359;let _0x41dfe0=[{'message':_0x40abcf(0x1cf),'author':_0x40abcf(0x19f)}],_0x4432e1=new Audio('./assets/audios/start.mp3');_0x4432e1[_0x40abcf(0x1c7)]=0.1;let _0x3a45cf=_0x41dfe0[Math[_0x40abcf(0x1a1)](Math[_0x40abcf(0x1c1)]()*_0x41dfe0['length'])];this[_0x40abcf(0x1c5)][_0x40abcf(0x1d5)]=_0x3a45cf[_0x40abcf(0x1dd)],this[_0x40abcf(0x1b4)]['children'][0x0][_0x40abcf(0x1d5)]=''+_0x3a45cf[_0x40abcf(0x1a4)],await sleep(0x64),document[_0x40abcf(0x1ca)]('#splash')[_0x40abcf(0x1cb)][_0x40abcf(0x1a8)]=_0x40abcf(0x1e5),await sleep(0x1f4),_0x4432e1[_0x40abcf(0x1e8)](),this[_0x40abcf(0x195)][_0x40abcf(0x1ae)][_0x40abcf(0x1dc)](_0x40abcf(0x199)),await sleep(0x1f4),this['splash']['classList']['add'](_0x40abcf(0x1c6)),this[_0x40abcf(0x1c5)]['classList'][_0x40abcf(0x1dc)]('opacity'),this[_0x40abcf(0x1b4)][_0x40abcf(0x1ae)]['add']('opacity'),this[_0x40abcf(0x1dd)]['classList'][_0x40abcf(0x1dc)]('opacity'),await sleep(0x7d0),fetch(_0x40abcf(0x196))[_0x40abcf(0x1c2)](async()=>{const _0x371032=_0x40abcf;this[_0x371032(0x1e7)]();})['catch'](async()=>{const _0x3ddd63=_0x40abcf;this[_0x3ddd63(0x18c)]('Comprobando\x20conexión\x20a\x20internet'),await sleep(0x7d0),this[_0x3ddd63(0x18c)]('No\x20se\x20ha\x20podido\x20conectar\x20a\x20internet.<br>Entrando\x20en\x20modo\x20offline'),await sleep(0xbb8),this['setStatus'](_0x3ddd63(0x1e1)),await sleep(0x1f4),this['startLauncher']();});}async['checkUpdate'](){const _0x41b490=a1_0x256359;if(dev)return sleep(0x3e8)[_0x41b490(0x1c2)](async()=>{const _0x1babb2=_0x41b490;this[_0x1babb2(0x195)][_0x1babb2(0x1ae)][_0x1babb2(0x1d6)](_0x1babb2(0x1c6)),this[_0x1babb2(0x1c5)][_0x1babb2(0x1ae)][_0x1babb2(0x1d6)]('opacity'),this['splashAuthor'][_0x1babb2(0x1ae)][_0x1babb2(0x1d6)](_0x1babb2(0x199)),await sleep(0x1f4),this[_0x1babb2(0x1d3)]();});this[_0x41b490(0x18c)](_0x41b490(0x1a3)),await axios[_0x41b490(0x1aa)](_0x41b490(0x1b6))[_0x41b490(0x1c2)](async _0x526b8d=>{const _0x2c41a2=_0x41b490;_0x526b8d[_0x2c41a2(0x194)]==0xc8?this['setStatus'](_0x2c41a2(0x1ab)):this[_0x2c41a2(0x1ba)](_0x2c41a2(0x1ad));})[_0x41b490(0x1c9)](_0x1d8456=>{const _0x37de08=_0x41b490;this[_0x37de08(0x1ba)](_0x37de08(0x1c4));}),ipcRenderer[_0x41b490(0x18f)](_0x41b490(0x18e))[_0x41b490(0x1c2)](_0x2864dc=>{const _0x533f06=_0x41b490;if(_0x2864dc){if(_0x2864dc[_0x533f06(0x1e6)]){let _0x558bc0=_0x2864dc[_0x533f06(0x1dd)];_0x558bc0=_0x558bc0['toString']()['slice'](0x0,0x32),this[_0x533f06(0x1ba)](_0x533f06(0x1d1)+_0x558bc0);}}}),ipcRenderer['on'](_0x41b490(0x1bc),()=>{const _0x389728=_0x41b490;this[_0x389728(0x18c)](_0x389728(0x1d0)),this['toggleProgress']();let _0xdebb52=document['getElementById'](_0x389728(0x1be));_0xdebb52[_0x389728(0x1cb)][_0x389728(0x1a8)]=_0x389728(0x1e5),_0xdebb52[_0x389728(0x19c)](_0x389728(0x19b),()=>{const _0x391153=_0x389728;this[_0x391153(0x18c)](_0x391153(0x1e9)),ipcRenderer['send'](_0x391153(0x1d8));});let _0x15efa9=document[_0x389728(0x1d4)](_0x389728(0x1de));_0x15efa9[_0x389728(0x1cb)][_0x389728(0x1a8)]='block',_0x15efa9[_0x389728(0x19c)](_0x389728(0x19b),()=>{const _0x5d22d5=_0x389728;this[_0x5d22d5(0x18c)](_0x5d22d5(0x1eb)),ipcRenderer['send'](_0x5d22d5(0x1b1)),this['maintenanceCheck']();});}),ipcRenderer['on'](_0x41b490(0x1a7),(_0x4cb0a2,_0x4e6a2b)=>{const _0x13e90d=_0x41b490;this[_0x13e90d(0x1a5)](_0x4e6a2b[_0x13e90d(0x1cd)],_0x4e6a2b[_0x13e90d(0x1cc)]);}),ipcRenderer['on'](_0x41b490(0x1af),()=>{const _0x50b9f5=_0x41b490;this[_0x50b9f5(0x1bf)]();}),ipcRenderer['on']('update-downloaded',async()=>{const _0x4b3713=_0x41b490;this[_0x4b3713(0x18c)](_0x4b3713(0x18b)),await sleep(0x1388),this[_0x4b3713(0x1d2)](),ipcRenderer[_0x4b3713(0x1b8)](_0x4b3713(0x1b1)),ipcRenderer[_0x4b3713(0x1b8)]('start-update');});}async[a1_0x256359(0x1bf)](){const _0x735640=a1_0x256359;config[_0x735640(0x1c8)]()[_0x735640(0x1c2)](async _0x9a5339=>{const _0x3442b9=_0x735640;console[_0x3442b9(0x1b5)](_0x9a5339);if(_0x9a5339[_0x3442b9(0x19e)])return this['shutdown'](_0x9a5339[_0x3442b9(0x1a6)]);return this[_0x3442b9(0x18c)]('Iniciando\x20launcher'),this[_0x3442b9(0x195)][_0x3442b9(0x1ae)][_0x3442b9(0x1d6)]('translate'),this[_0x3442b9(0x1c5)][_0x3442b9(0x1ae)][_0x3442b9(0x1d6)](_0x3442b9(0x199)),this[_0x3442b9(0x1b4)][_0x3442b9(0x1ae)][_0x3442b9(0x1d6)](_0x3442b9(0x199)),await sleep(0x1f4),setTimeout(()=>{const _0x4c55cc=_0x3442b9;this[_0x4c55cc(0x1d3)]();},0xbb8),!![];})[_0x735640(0x1c9)](_0x2c534b=>{const _0x1666c1=_0x735640;return console['error'](_0x2c534b),this[_0x1666c1(0x1ba)](_0x1666c1(0x1da));});}async[a1_0x256359(0x1d3)](){const _0x19e030=a1_0x256359;this[_0x19e030(0x18c)](_0x19e030(0x1df)),await sleep(0x1f4),ipcRenderer[_0x19e030(0x1b8)](_0x19e030(0x1a9)),ipcRenderer[_0x19e030(0x1b8)]('update-window-close');}[a1_0x256359(0x1ba)](_0x5071c8){const _0x3d16a9=a1_0x256359;this[_0x3d16a9(0x18c)](_0x5071c8+_0x3d16a9(0x18a));let _0x145dca=0xa;setInterval(()=>{const _0x47b75b=_0x3d16a9;this[_0x47b75b(0x18c)](_0x5071c8+_0x47b75b(0x1b7)+_0x145dca--+'s');if(_0x145dca<0x0)ipcRenderer[_0x47b75b(0x1b8)](_0x47b75b(0x1b1));},0x3e8);}[a1_0x256359(0x18c)](_0x5792cb){const _0xc3200e=a1_0x256359;this[_0xc3200e(0x1dd)][_0xc3200e(0x1b0)]=_0x5792cb;}[a1_0x256359(0x1d2)](){const _0x4adef3=a1_0x256359;if(this[_0x4adef3(0x1ea)][_0x4adef3(0x1ae)][_0x4adef3(0x19a)](_0x4adef3(0x193)))this[_0x4adef3(0x1a5)](0x0,0x1);}[a1_0x256359(0x1a5)](_0x1ca27d,_0x734260){const _0x2dc9ce=a1_0x256359;this[_0x2dc9ce(0x1ea)][_0x2dc9ce(0x1b9)]=_0x1ca27d,this['progress'][_0x2dc9ce(0x1db)]=_0x734260;}}function sleep(_0x269a54){return new Promise(_0xfebd25=>setTimeout(_0xfebd25,_0x269a54));}document['addEventListener'](a1_0x256359(0x1c0),_0x208c9a=>{const _0x48e2c0=a1_0x256359;(_0x208c9a[_0x48e2c0(0x1a0)]&&_0x208c9a['shiftKey']&&_0x208c9a['keyCode']==0x49||_0x208c9a['keyCode']==0x7b)&&ipcRenderer[_0x48e2c0(0x1b8)](_0x48e2c0(0x198));}),new Splash();function a1_0x5da1(){const _0x651a73=['error','checkUpdate','play','Descargando\x20actualización','progress','Actualización\x20cancelada','42qYcpUS','<br>Cerrando\x2010s','Actualización\x20descargada.\x20Ahora\x20se\x20te\x20abrirá\x20el\x20instalador\x20de\x20Battly','setStatus','2037141cgEGRQ','update-app','invoke','DOMContentLoaded','dev','24nkHYRH','show','status','splash','https://google.com','593484muTVlS','update-window-dev-tools','opacity','toggle','click','addEventListener','183070FyEGeu','maintenance','TECNO\x20BROS','ctrlKey','floor','4042GZezaR','Obteniendo\x20versión\x20actual','author','setProgress','maintenance_message','download-progress','display','main-window-open','get','Buscando\x20actualizaciones','node-fetch','Error\x20al\x20buscar\x20las\x20actualizaciones.\x20El\x20servidor\x20no\x20responde.\x20Inténtalo\x20de\x20nuevo\x20más\x20tarde.','classList','update-not-available','innerHTML','update-window-close','10079970BFrfhI','258wIDccj','splashAuthor','log','https://battlylauncher.com','<br>Cerrando\x20en\x20','send','value','shutdown','.splash-author','updateAvailable','env','btn_actualizar','maintenanceCheck','keydown','random','then','1030878tPKxyR','Error\x20al\x20conectar\x20al\x20servidor\x20de\x20Battly','splashMessage','translate','volume','GetConfig','catch','querySelector','style','total','transferred','11Evpvnp','Battly\x20Launcher','¡Actualización\x20disponible!','Error\x20al\x20buscar\x20las\x20actualizaciones,\x20error\x20:<br>','toggleProgress','startLauncher','getElementById','textContent','remove','axios','start-update','startAnimation','Error\x20al\x20conectar\x20al\x20servidor.<br>Comprueba\x20tu\x20conexión\x20o\x20vuelve\x20a\x20intentarlo\x20más\x20tarde.','max','add','message','btn_jugar','Ya\x20casi\x20estamos','385712qcOuFg','Iniciando\x20launcher','NODE_ENV','.splash-message','.message','block'];a1_0x5da1=function(){return _0x651a73;};return a1_0x5da1();}